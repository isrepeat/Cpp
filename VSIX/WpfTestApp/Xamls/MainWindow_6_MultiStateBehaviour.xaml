<Window x:Class="WpfTestApp.MainWindow_6_MultiStateBehaviour"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:shell="clr-namespace:System.Windows.Shell;assembly=PresentationFramework"
        xmlns:local="clr-namespace:WpfTestApp"
        xmlns:localControls="clr-namespace:WpfTestApp.Controls"
        xmlns:helpers="clr-namespace:Helpers"
        xmlns:helpersControls="clr-namespace:Helpers.Controls"
        mc:Ignorable="d"
        x:Name="__MainWindow_3_MarkupExtensions"
        Title="MainWindow"
        ResizeMode="CanResize"
        WindowStyle="None"
        AllowsTransparency="False"
        Style="{StaticResource DarkWindowStyle}"
        Width="800"
        Height="700"
        >
    <!-- 
        Используем WindowChrome, чтобы отключить стандартную системную рамку 
        (которая оставляет белую полоску при ResizeMode=CanResize),
        но при этом сохранить возможность изменения размера окна.
    -->
    <shell:WindowChrome.WindowChrome>
        <shell:WindowChrome
            CaptionHeight="0"
            CornerRadius="0"
            GlassFrameThickness="0"
            UseAeroCaptionButtons="False" />
    </shell:WindowChrome.WindowChrome>
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/WpfTestApp;component/Styles/BrushResources.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <!-- Global theme styles (must be inherited for a specific element) -->
            <Style x:Key="DarkButtonStyle" TargetType="Button">
                <Setter Property="Background" Value="#444444" />
                <Setter Property="Foreground" Value="{StaticResource AppTextColor}" />
            </Style>

            <Style x:Key="DarkTextBlockStyle" TargetType="TextBlock">
                <Setter Property="Foreground" Value="{StaticResource AppTextColor}" />
            </Style>

        </ResourceDictionary>
    </Window.Resources>


    <DockPanel>
        <localControls:CustomTitleBar DockPanel.Dock="Top" />

        <!-- Main content -->
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="auto" />
                <RowDefinition Height="auto" />
            </Grid.RowDefinitions>

            <StackPanel Grid.Row="0"
                    Orientation="Vertical"
                    >
                <TextBlock Text="{Binding ProjectObj, StringFormat='ProjectObj ({0}):'}" Foreground="#80DDDDDD" />
                <TextBlock Text="{Binding ProjectObj.Name, StringFormat=' - Name = {0}'}"/>
                <TextBlock Text="{Binding ProjectObj.ProjId, StringFormat=' - ProjId = {0}'}"/>
                <helpersControls:FormattedTextBlock
                    Value0="{Binding ProjectObj.DocumentObj}"
                    Value1="{Binding ProjectObj.DocumentObjHash}"
                    Format=" - DocumentObj = {0} [{1}]"
                    />
                <helpersControls:FormattedTextBlock
                    Value0="{Binding ProjectObj.DocumentObj.HierarchyItemObj}"
                    Value1="{Binding ProjectObj.DocumentObj.HierarchyItemObjHash}"
                    Format="    - HierarchyItemObj = {0} [{1}]"
                    />
                <TextBlock Text="{Binding ProjectObj.DocumentObj.HierarchyItemObj.VsHierarchyData,
                                  StringFormat='       - VsHierarchyData = {0}'}"
                           />
                <Separator Margin="0, 10"/>

                
                
                <TextBlock Text="{Binding LastLoadedProject, StringFormat='LastLoadedProject ({0}):'}" Foreground="#80DDDDDD" />
                <TextBlock Text="{Binding LastLoadedProject.Name, StringFormat=' - Name = {0}'}"/>
                <TextBlock Text="{Binding LastLoadedProject.ProjId, StringFormat=' - ProjId = {0}'}"/>
                <helpersControls:FormattedTextBlock
                    Value0="{Binding LastLoadedProject.DocumentObj}"
                    Value1="{Binding LastLoadedProject.DocumentObjHash}"
                    Format=" - DocumentObj = {0} [{1}]"
                    />
                <helpersControls:FormattedTextBlock
                    Value0="{Binding LastLoadedProject.DocumentObj.HierarchyItemObj}"
                    Value1="{Binding LastLoadedProject.DocumentObj.HierarchyItemObjHash}"
                    Format="    - HierarchyItemObj = {0} [{1}]"
                    />
                <TextBlock Text="{Binding LastLoadedProject.DocumentObj.HierarchyItemObj.VsHierarchyData,
                                  StringFormat='       - VsHierarchyData = {0}'}"
                           />
                <Separator Margin="0, 10"/>

                
                
                <TextBlock Text="{Binding LastUnloadedProject, StringFormat='LastUnloadedProject ({0}):'}" Foreground="#80DDDDDD" />
                <TextBlock Text="{Binding LastUnloadedProject.Name, StringFormat=' - Name = {0}'}"/>
                <helpersControls:FormattedTextBlock
                    Value0="{Binding LastUnloadedProject.DocumentObj}"
                    Value1="{Binding LastUnloadedProject.DocumentObjHash}"
                    Format=" - DocumentObj = {0} [{1}]"
                    />
                <helpersControls:FormattedTextBlock
                    Value0="{Binding LastUnloadedProject.DocumentObj.HierarchyItemObj}"
                    Value1="{Binding LastUnloadedProject.DocumentObj.HierarchyItemObjHash}"
                    Format="    - HierarchyItemObj = {0} [{1}]"
                    />
                <TextBlock Text="{Binding LastUnloadedProject.DocumentObj.HierarchyItemObj.VsHierarchyData,
                                  StringFormat='       - VsHierarchyData = {0}'}"
                           />
                <Separator Margin="0, 10"/>


                <TextBlock Text="{Binding LastDocument, StringFormat='LastDocument ({0}):'}" Foreground="#80DDDDDD" />
                <helpersControls:FormattedTextBlock
                    Value0="{Binding LastDocument.HierarchyItemObj}"
                    Value1="{Binding LastDocument.HierarchyItemObjHash}"
                    Format="    - HierarchyItemObj = {0} [{1}]"
                    />
                <TextBlock Text="{Binding LastDocument.HierarchyItemObj.VsHierarchyData,
                                  StringFormat='       - VsHierarchyData = {0}'}"
                           />
                <Separator Margin="0, 10"/>


                <TextBlock Text="DocumentHashes:" Foreground="#80DDDDDD" />
                <ItemsControl ItemsSource="{Binding ProjectObj.DocumentObjHashes}"
                              Background="Transparent"
                              />
                <Border Margin="0, 10" />

                
                <TextBlock Text="HierarchyHashes:" Foreground="#80DDDDDD" />
                <ItemsControl ItemsSource="{Binding ProjectObj.DocumentObj.HierarchyItemObjHashes}"
                              Background="Transparent"
                              />

            </StackPanel>

            <Button Grid.Row="1"
                    Style="{StaticResource DarkButtonStyle}"
                    Command="{Binding OnUnloadProjectCommand}"
                    Content="Unload"
                    />
            <Button Grid.Row="2"
                    Style="{StaticResource DarkButtonStyle}"
                    Command="{Binding OnReloadProjectCommand}"
                    Content="Reload"
                    />
        </Grid>
    </DockPanel>
</Window>
